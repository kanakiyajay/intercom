<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Demo for Javascript Pixel Contact Form</title>
	
	<style type="text/css">
		.float-left {
			float: left;
		}

		.float-right {
			float: right;
		}
	</style>
	<style type="text/css">
		#pixel-container {
			position: fixed;
			z-index: 10000;
			box-shadow: -2px 0px 5px 0px rgba(0,0,0,0.28);
		}

		#pixel-container #pixel-launcher {
			position: fixed;
			bottom: 10px;
			right: 20px;
			width: 48px;
			height: 48px;
			z-index: 100001;
			cursor: pointer;
		}
	
		#pixel-container #pixel-message-button {
			border-radius: 50%;
			bottom: 0;
			right: 0;
			height: 48px;
			width: 48px;
			background-color: #d2504d;
			border-color: #aa2825;
			background-image: url(https://js.intercomcdn.com/images/icon-launcher-acquire.8a742481.png);
			background-size: 26px 25px;
			background-repeat: no-repeat;
			box-shadow: 0 6px 13px 0 rgba(0,0,0,.23);
			background-position: 50%;
		}
	
		#pixel-container #pixel-conversion-container {
			position: fixed;
			z-index: 10000;
			right: 0;
			bottom: 0;
			width: 368px;
			height: 100%;
			display: none;
		}

		#pixel-container .pixel-bar-body,
		#pixel-container .pixel-bar-footer {
			background-color: #FAFAFB;
		}

		#pixel-container .pixel-bar-heading {
		    font-family: Helvetica Neue,Helvetica,Arial,sans-serif;
		    font-size: 15px;
		    line-height: 48px;
		    font-weight: 500;
		    color: #465c66;
		    letter-spacing: .2px;
		    display: inline-block;
		    max-width: 200px;
		    white-space: nowrap;
		    overflow: hidden;
		    text-overflow: ellipsis;
			margin: 0;
		}

		#pixel-container .pixel-bar-header {
			background: white;
			position: absolute;
			top: 0;
			right: 0;
			width: 100%;
			height: 48px;
			z-index: 10000;
			text-align: center;
			overflow: hidden;
			box-shadow: 0 1px 2px 0 rgba(0,0,0,.12);
		}
	
		.pixel-bar-heading-icons {
			position: relative;
			height: 100%;
			margin: 0 20px;
		}

		#pixel-container .pixel-bar-heading-icon {
			height: 100%;
			cursor: pointer;
			width: 16px;
			display: inline-block;
			background-position: 50%;
		    opacity: .4;
		}

		#pixel-container .pixel-minimize {
		    background-image: url(/pixel/icons/minimize.png);
    		background-size: 15px 15px;
		    background-repeat: no-repeat;
		    margin-right: 6px;
		}

		#pixel-container .pixel-menu {
		    background-image: url(/pixel/icons/menu.png);
    		background-size: 15px 12px;
    		background-repeat: no-repeat;
		}

		#pixel-container .pixel-close  {
		    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAq0lEQVR42o2RMQoCMRBFcwQ776C11upOekHEnaC47sQbWomIlWfRSm+wZiBFIAzfgYEw/PeKfLdYdyNiuSz5OHV/TLM9TTSvnPMsVx/ikPadBQh8aZ6C3Fyz62bp8SkFEOT4XQWZ670SaBCCeWwBBm0Bcb+xQSwYEFgLOO5L2LdyAEj9ObpGC7gOavuz0QLu0WoBgqhGCEJBOtwBWAly/qG1jInlWYJIoHnlfhcTzX2HEVUjAAAAAElFTkSuQmCC);
		    background-size: 13px 13px;
		    background-repeat: no-repeat;
		}

		#pixel-container .pixel-bar-body {
			position: absolute;
			top: 48px;
			bottom: 48px;
			width: 100%;
			overflow-y: auto;
			overflow-x: hidden;
		}

		#pixel-container .pixel-pre-message {
			padding: 16px 16px 0;
		}
	
		#pixel-conversations-body {
			padding: 15px;
		}

		#pixel-container .pixel-bar-footer {
			position: absolute;
			bottom: 0;
			left: 0;
			margin: 0 auto;
			padding: 8px 6px 0;
			height: 48px;
			width: 100%;
		}

		#pixel-container .pixel-button {
			cursor: pointer;
			margin: 8px;
			font-weight: 500;
			padding: 0 18px;
		    box-shadow: inset 0 1px 0 0 hsla(0,0%,100%,.17);
		    background: #0074b0;
		    background-image: linear-gradient(180deg,#1488c4,#0074b0);
		    border-radius: 3px;
		    text-shadow: 0 -1px rgba(0,0,0,.2);
		    text-decoration: none;
		    font-size: 14px;
		    line-height: 25px;
		    padding: 0 9px;
		    display: inline-block;
		    color: #fff;
    		border: 1px solid #00609c;
		}

		.pixel-center-wrap {
			position: relative;
			text-align: center;
			margin: 0 auto;
		}

		#pixel-input {
			white-space: pre-wrap;
			word-wrap: break-word;
			padding: 10px 10px 5px 14px;
			border-radius: 4px;
			min-height: 40px;
			max-height: 200px;
			width: 260px;
			box-sizing: border-box;
		}

		#pixel-submit {
			vertical-align: top;
		}
	</style>
</head>
<body>
	<h1>Development Pixel</h1>

	<div id="pixel-container">
		<div id="pixel-launcher">
			<div id="pixel-message-button">
				<div id="pixel-initials"></div>
			</div>
		</div>
		<div id="pixel-conversion-container">
			<div id="pixel-conversation-all" class="pixel-list-wrapper">
				<div id="pixel-conversation-header" class="pixel-bar-header">
					<p class="pixel-bar-heading"></p>
					<div class="pixel-bar-heading-icon pixel-close"></div>
				</div>
				<div id="pixel-conversation-list" class="pixel-bar-body">
					<ul class="pixel-bar-list">
					</ul>
				</div>
				<div id="pixel-conversation-footer" class="pixel-bar-footer">
					<div class="pixel-center-wrap">
						<button class="pixel-button">Add new Conversation</button>
					</div>
				</div>
			</div>
			<div id="pixel-single-conversation" class="pixel-list-wrapper">
				<div class="pixel-bar-header">
					<div class="pixel-bar-heading-icons float-left">
						<div class="pixel-bar-heading-icon pixel-menu"></div>
					</div>
					<p class="pixel-bar-heading">
					</p>
					<div class="pixel-bar-heading-icons float-right">
						<div class="pixel-bar-heading-icon pixel-minimize"></div>
						<div class="pixel-bar-heading-icon pixel-close"></div>
					</div>
				</div>
				<div class="pixel-bar-body">
					<div class="pixel-pre-message"></div>
					<div id="pixel-conversations-body">
						
					</div>
				</div>
				<div class="pixel-bar-footer">
					<div class="pixel-center-wrap">
						<textarea placeholder="Type your message" id="pixel-input"></textarea>
						<button class="pixel-button" id="pixel-submit">&gt;</button>
					</div>
				</div>
			</div>
		</div>
	</div>
		
	<script type="text/x-tmpl" id="pixel-conversation-list-tmpl">
		<ul class="pixel-list">
			{% for (var i=0; i < o.length; i++) { %}
			<li data-id="{%= o[i]._id %}">
				<p>{%= o[i]._id %}</p>
			</li>
			{% } %}
		</ul>
	</script>
	
	<script type="text/x-tmpl" id="pixel-conversations-body-tmpl">
		<ul class="pixel-list">
			{% for (var i=0; i < o.length; i++) { %}
			<li data-id="{%= o[i]._id %}">
				<p>{%= o[i].created_by.name %}</p>
				<p>{%= o[i].message %}</p>
			</li>
			{% } %}
		</ul>
	</script>

	<script type="text/javascript">
		window.pixelSettings = {
			client_id: 'abcdef', // TODO: After Websites Table
			// TODO Check for without cust_id
			cust_id: '124', // Not compulsary, Leave blank if no one present
			name: 'Jay Kanakiya',
			email: 'jay@jaykanakiya.com'
		};
	</script>
	<!-- TODO: Create and insert this async snippet -->
	<!-- Also Implement it based upon appId -->
	<script src="libs/zepto.js" type="text/javascript"></script>
	<script src="libs/tmpl.js" type="text/javascript"></script>
	<script src="libs/cookie-monster.js" type="text/javascript"></script>
	
	<script src="pixel.js" type="text/javascript"></script>
</body>
</html>